webpackJsonp([1],{"9Ki6":function(A,e,i){A.exports=i.p+"static/img/ad-rectangle.40bbad4.jpg"},HumN:function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAukAAAHQCAYAAAAcWfTzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAj0SURBVHhe7cixDcAwAMOw/P90mgO0uwMFcNF5XQAA4FdyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAADs5AQAAHZyAgAAOzkBAICdnAAAwE5OAABgJycAALCTEwAA2MkJAABMnPsByXRYgEbOSVIAAAAASUVORK5CYII="},OQQP:function(A,e){},"PD+x":function(A,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("f+26");var s=i("gyMJ"),t=s.b+"/gateway/advertise/";var d={name:"advertise",data:function(){return{squareAd:i("uEfP"),rectangleAd:i("9Ki6"),socket:null,devicePositionCode:null,advertiseTimer:null,noticeTimer:null,isImg:!1,imgSrc:"",isVideo1:!1,isVideo2:!1,video1Src:"",video2Src:"",videoPlayer1:null,videoPlayer2:null,firstIsVideo:!1,isNotice:!1,adNotice:""}},methods:{openSocket:function(){if("undefined"==typeof WebSocket);else{var A=this,e=Math.random(),i=t+e;null!=this.socket&&(this.socket.close(),this.socket=null),this.socket=new WebSocket(i),this.socket.onopen=function(){},this.socket.onclose=function(){setTimeout(function(){A.openSocket()},1e4)},this.socket.onerror=function(){},this.socket.onmessage=function(e){A.reset(),A.init(),A.$nextTick(function(){var i=JSON.parse(e.data);try{var s=i.advertise;if(A.advertiseTimer&&clearTimeout(A.advertiseTimer),s&&s.length>0){for(var t=[],d=0;d<s.length;d++){var n=s[d],c=n.positionCode;A.devicePositionCode==c&&t.push(n)}A.playAd(A,t,0,t.length)}}catch(A){}try{var o=i.notice;if(o&&o.length>0){for(var g=window.innerWidth,y="",r=0;r<o.length;r++){y+=o[r],r!=o.length-1&&(y+='<span style="display:inline-block;width:'+g+'px"></span>')}A.adNotice=y,A.$nextTick(function(){A.isNotice=!0})}else A.isNotice=!1}catch(A){}})}}},playAd:function(A,e,i,t){try{var d=e[i],n=d.advertiseDeliveryId,c=d.advertiseAttachId,o=d.attachType,g=d.showTimes,y=d.suffix,r=s.a+"/advertise/"+n+"/"+c+y;0==o?(A.imgSrc=r,A.isVideo1=!1,A.isVideo2=!1,A.isImg=!0):1==o&&(A.isVideo1?(A.videoPlayer2.currentTime=0,A.videoPlayer2.play(),A.isVideo2=!0,A.isVideo1=!1):(A.video1Src?(A.videoPlayer1.currentTime=0,A.firstIsVideo=!1):(A.video1Src=r,A.firstIsVideo=!0),A.videoPlayer1.play(),A.isVideo1=!0,A.isVideo2=!1),A.isImg=!1);var a=i+1;a==t&&(a=0);var k=e[a];if(1==k.attachType){var w=k.advertiseDeliveryId,C=k.advertiseAttachId,B=k.suffix,O=s.a+"/advertise/"+w+"/"+C+B;A.isVideo1?A.firstIsVideo?g>5?(setTimeout(function(){A.video2Src=O},3e3),setTimeout(function(){A.videoPlayer2.pause(),A.videoPlayer2.currentTime=0},5e3)):A.video2Src=O:(A.video2Src=O,g>=2&&setTimeout(function(){A.videoPlayer2.pause(),A.videoPlayer2.currentTime=0},1e3*g-2e3)):(A.video1Src=O,g>=2&&setTimeout(function(){A.videoPlayer1.pause(),A.videoPlayer1.currentTime=0},1e3*g-2e3))}A.advertiseTimer&&clearTimeout(A.advertiseTimer),A.advertiseTimer=setTimeout(function(){A.socket.send(n+","+c),++i==t&&(i=0),A.playAd(A,e,i,t)},1e3*g+1e3)}catch(A){}},reset:function(){this.isImg=!1,this.imgSrc="",this.isVideo1=!1,this.isVideo2=!1,this.video1Src="",this.video2Src="",this.firstIsVideo=!1,this.isNotice=!1,this.adNotice=""},init:function(){this.isImg=!0,"square"==this.devicePositionCode?this.imgSrc=this.squareAd:"rectangle"==this.devicePositionCode&&(this.imgSrc=this.rectangleAd)}},mounted:function(){this.devicePositionCode=this.$route.query.devicePositionCode,this.videoPlayer1=document.getElementById("ad-video1"),this.videoPlayer2=document.getElementById("ad-video2"),this.init(),this.openSocket()}},n={render:function(){var A=this,e=A.$createElement,s=A._self._c||e;return s("div",{attrs:{id:"wrap"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:A.isImg,expression:"isImg"}],attrs:{id:"ad-img",src:A.imgSrc,width:"100%",height:"100%"}}),A._v(" "),s("video",{class:{showBox:A.isVideo1},attrs:{id:"ad-video1",src:A.video1Src,autoplay:"",muted:"muted",poster:i("HumN")},domProps:{muted:!0}},[A._v("\n        您的浏览器不支持 video 标签。\n    ")]),A._v(" "),s("video",{class:{showBox:A.isVideo2},attrs:{id:"ad-video2",src:A.video2Src,autoplay:"",muted:"muted",poster:i("HumN")},domProps:{muted:!0}},[A._v("\n        您的浏览器不支持 video 标签。\n    ")]),A._v(" "),A.isNotice?s("marquee",{staticClass:"ad-text",class:{noticeSquare:"square"==A.devicePositionCode},attrs:{bgcolor:"#262F41",scrollamount:"6",scrolldelay:"85"}},[s("div",{staticStyle:{display:"inline-block"},domProps:{innerHTML:A._s(A.adNotice)}})]):A._e()],1)},staticRenderFns:[]};var c=i("VU/8")(d,n,!1,function(A){i("OQQP")},"data-v-510c8c0a",null);e.default=c.exports},uEfP:function(A,e,i){A.exports=i.p+"static/img/ad-square.80dfa61.jpg"}});